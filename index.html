<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>電影約會交友平台</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
    <div id="app">
        <section id="login" class="fullscreen-section">
            <button id="liffLoginButton">使用LINE登入</button>
        </section>

        <section id="movieSwipe" class="fullscreen-section" style="display: none;">
            <div class="movie-card-stack">
                <div class="movie-card">
                    <img src="" alt="電影海報" class="movie-poster">
                    <div class="movie-info">
                        <h2 class="movie-title"></h2>
                        <p class="movie-description"></p>
                        <div class="movie-rating">
                            <i class="fas fa-star"></i>
                            <span class="rating-value"></span>
                        </div>
                    </div>
                </div>
                <div class="movie-card"></div>
                <div class="movie-card"></div>
            </div>
            <div class="swipe-buttons">
                <button class="swipe-button dislike"><i class="fas fa-times"></i></button>
                <button class="swipe-button like"><i class="fas fa-heart"></i></button>
            </div>
        </section>

        <nav class="bottom-nav">
            <a href="index.html" class="nav-item active"><i class="fas fa-film"></i></a>
            <a href="#" class="nav-item"><i class="fas fa-bell"></i></a>
            <a href="#" class="nav-item"><i class="fas fa-users"></i></a>
            <a href="profile.html" class="nav-item"><i class="fas fa-user"></i></a>
        </nav>
    </div>

    <script src="https://hammerjs.github.io/dist/hammer.min.js"></script>
    <script src="app.js"></script>
    <script>
        // LIFF 初始化
        liff.init({ liffId: "YOUR_LIFF_ID_HERE" })
            .then(() => {
                if (!liff.isLoggedIn()) {
                    document.getElementById('liffLoginButton').style.display = 'block';
                } else {
                    checkUserProfile();
                }
            })
            .catch((err) => {
                console.error('LIFF 初始化失敗', err);
            });
    </script>
</body>
</html>